{"ast":null,"code":"import axios from \"axios\";\nconst CLIENT_ID = \"your_spotify_client_id\";\nconst CLIENT_SECRET = \"your_spotify_client_secret\";\nconst TOKEN_URL = \"https://accounts.spotify.com/api/token\";\nconst SEARCH_URL = \"https://api.spotify.com/v1/search\";\nlet accessToken = null;\nconst getAccessToken = async () => {\n  if (accessToken) return accessToken;\n  const response = await axios.post(TOKEN_URL, new URLSearchParams({\n    grant_type: \"client_credentials\"\n  }), {\n    headers: {\n      \"Content-Type\": \"application/x-www-form-urlencoded\",\n      Authorization: `Basic ${btoa(`${CLIENT_ID}:${CLIENT_SECRET}`)}`\n    }\n  });\n  accessToken = response.data.access_token;\n  return accessToken;\n};\nexport const searchTracks = async query => {\n  const token = await getAccessToken();\n  const response = await axios.get(SEARCH_URL, {\n    headers: {\n      Authorization: `Bearer ${token}`\n    },\n    params: {\n      q: query,\n      type: \"track\",\n      limit: 10\n    }\n  });\n  return response.data.tracks.items.map(track => {\n    var _track$album, _track$album$images$;\n    return {\n      id: track.id,\n      name: track.name,\n      artists: track.artists.map(artist => artist.name).join(\", \"),\n      image: ((_track$album = track.album) === null || _track$album === void 0 ? void 0 : (_track$album$images$ = _track$album.images[0]) === null || _track$album$images$ === void 0 ? void 0 : _track$album$images$.url) || \"/img/default_album.png\",\n      audioUrl: track.preview_url\n    };\n  });\n};","map":{"version":3,"names":["axios","CLIENT_ID","CLIENT_SECRET","TOKEN_URL","SEARCH_URL","accessToken","getAccessToken","response","post","URLSearchParams","grant_type","headers","Authorization","btoa","data","access_token","searchTracks","query","token","get","params","q","type","limit","tracks","items","map","track","_track$album","_track$album$images$","id","name","artists","artist","join","image","album","images","url","audioUrl","preview_url"],"sources":["/Users/leeyunji/Desktop/24-2/FFFinal_github/src/App.js"],"sourcesContent":["import axios from \"axios\";\n\nconst CLIENT_ID = \"your_spotify_client_id\";\nconst CLIENT_SECRET = \"your_spotify_client_secret\";\nconst TOKEN_URL = \"https://accounts.spotify.com/api/token\";\nconst SEARCH_URL = \"https://api.spotify.com/v1/search\";\n\nlet accessToken = null;\n\nconst getAccessToken = async () => {\n  if (accessToken) return accessToken;\n\n  const response = await axios.post(\n    TOKEN_URL,\n    new URLSearchParams({ grant_type: \"client_credentials\" }),\n    {\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n        Authorization: `Basic ${btoa(`${CLIENT_ID}:${CLIENT_SECRET}`)}`,\n      },\n    }\n  );\n\n  accessToken = response.data.access_token;\n  return accessToken;\n};\n\nexport const searchTracks = async (query) => {\n  const token = await getAccessToken();\n  const response = await axios.get(SEARCH_URL, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n    params: {\n      q: query,\n      type: \"track\",\n      limit: 10,\n    },\n  });\n\n  return response.data.tracks.items.map((track) => ({\n    id: track.id,\n    name: track.name,\n    artists: track.artists.map((artist) => artist.name).join(\", \"),\n    image: track.album?.images[0]?.url || \"/img/default_album.png\",\n    audioUrl: track.preview_url,\n  }));\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,SAAS,GAAG,wBAAwB;AAC1C,MAAMC,aAAa,GAAG,4BAA4B;AAClD,MAAMC,SAAS,GAAG,wCAAwC;AAC1D,MAAMC,UAAU,GAAG,mCAAmC;AAEtD,IAAIC,WAAW,GAAG,IAAI;AAEtB,MAAMC,cAAc,GAAG,MAAAA,CAAA,KAAY;EACjC,IAAID,WAAW,EAAE,OAAOA,WAAW;EAEnC,MAAME,QAAQ,GAAG,MAAMP,KAAK,CAACQ,IAAI,CAC/BL,SAAS,EACT,IAAIM,eAAe,CAAC;IAAEC,UAAU,EAAE;EAAqB,CAAC,CAAC,EACzD;IACEC,OAAO,EAAE;MACP,cAAc,EAAE,mCAAmC;MACnDC,aAAa,EAAE,SAASC,IAAI,CAAC,GAAGZ,SAAS,IAAIC,aAAa,EAAE,CAAC;IAC/D;EACF,CACF,CAAC;EAEDG,WAAW,GAAGE,QAAQ,CAACO,IAAI,CAACC,YAAY;EACxC,OAAOV,WAAW;AACpB,CAAC;AAED,OAAO,MAAMW,YAAY,GAAG,MAAOC,KAAK,IAAK;EAC3C,MAAMC,KAAK,GAAG,MAAMZ,cAAc,CAAC,CAAC;EACpC,MAAMC,QAAQ,GAAG,MAAMP,KAAK,CAACmB,GAAG,CAACf,UAAU,EAAE;IAC3CO,OAAO,EAAE;MACPC,aAAa,EAAE,UAAUM,KAAK;IAChC,CAAC;IACDE,MAAM,EAAE;MACNC,CAAC,EAAEJ,KAAK;MACRK,IAAI,EAAE,OAAO;MACbC,KAAK,EAAE;IACT;EACF,CAAC,CAAC;EAEF,OAAOhB,QAAQ,CAACO,IAAI,CAACU,MAAM,CAACC,KAAK,CAACC,GAAG,CAAEC,KAAK;IAAA,IAAAC,YAAA,EAAAC,oBAAA;IAAA,OAAM;MAChDC,EAAE,EAAEH,KAAK,CAACG,EAAE;MACZC,IAAI,EAAEJ,KAAK,CAACI,IAAI;MAChBC,OAAO,EAAEL,KAAK,CAACK,OAAO,CAACN,GAAG,CAAEO,MAAM,IAAKA,MAAM,CAACF,IAAI,CAAC,CAACG,IAAI,CAAC,IAAI,CAAC;MAC9DC,KAAK,EAAE,EAAAP,YAAA,GAAAD,KAAK,CAACS,KAAK,cAAAR,YAAA,wBAAAC,oBAAA,GAAXD,YAAA,CAAaS,MAAM,CAAC,CAAC,CAAC,cAAAR,oBAAA,uBAAtBA,oBAAA,CAAwBS,GAAG,KAAI,wBAAwB;MAC9DC,QAAQ,EAAEZ,KAAK,CAACa;IAClB,CAAC;EAAA,CAAC,CAAC;AACL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}